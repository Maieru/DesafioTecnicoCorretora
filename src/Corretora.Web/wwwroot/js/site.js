// Please see documentation at https://learn.microsoft.com/aspnet/core/client-side/bundling-and-minification
// for details on configuring this project to bundle and minify static web assets.

// Write your JavaScript code.

function criarModal() {
    const modalHTML = `
                <div class="modal fade" id="modalSecreta" tabindex="-1" aria-labelledby="modalSecretaLabel" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-centered modal-lg">
                    <div class="modal-content shadow">
                      <div class="modal-header bg-dark text-white">
                        <h5 class="modal-title" id="modalSecretaLabel">Easter egg!</h5>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fechar"></button>
                      </div>
                      <div class="modal-body text-center">
                        <p>🕹️ Parabéns! Você achou meu segredo! 🎉</p>
                        <p class="text-muted small"> Agora, minha vez de retribuir o segredo rs. Use UTF-8 para a decodificação. </p>
                        <p class="text-muted small">
                            01010010 01011000 01001110 01110111 01011010 01011000 01001010 01110110 01001001 01001000 01000110 00110001 01011010 01010011 01000010 01101100 01100011
                            00110011 01001110 01101100 01001001 01000111 01010110 01111010 01100011 00110010 01010101 01100111 01100011 01001000 01001010 01110110 01100001 01101101
                            01010110 00110000 01100010 01111001 01000010 00110000 01011010 01010111 00110101 01101111 01011001 01010011 01000010 01101000 01100100 01000111 01010110
                            01110101 01011010 01000111 01101100 01101011 01100010 01111001 01000010 01101000 01100011 01111001 01000010 01101100 01100011 00110011 01000010 01101100
                            01011001 00110011 01010010 01101000 01100100 01000111 01101100 00110010 01011001 01011000 01001101 01101000 01000011 01101011 01011010 01110110 01100001
                            01010011 01000010 01101000 01001001 01000111 00110001 01110000 01100010 01101101 01101000 01101000 01001001 01001000 01000010 01111001 01100001 01010111
                            00110001 01101100 01100001 01011000 01001010 01101000 01001001 01001000 01011010 01101100 01100101 01101001 01000010 00110001 01100100 01000111 01101100
                            01110011 01100001 01011000 01110000 01101000 01100010 01101101 01010010 01110110 01001001 01000111 00111000 01100111 01010011 00110010 01000110 01101101
                            01100001 00110010 01000101 01100111 01011010 01010011 01000010 01110110 01001001 01001000 01100100 01110110 01100011 01101101 01110100 01101100 01100011
                            01101001 01000010 01111010 01011010 01011000 01001010 00110010 01100001 01010111 01001110 01101100 01001100 01000011 01000010 01101100 01100010 01101110
                            01010100 01000100 01101111 00110010 00111000 01100111 01100010 01110011 01001111 01101010 01100010 01111001 01000010 01101100 01100011 00110011 01010010
                            01110110 01100100 01010011 01000010 00110000 01110111 00110110 01001110 01110110 01001001 01000111 01001110 01110110 01100010 01101101 01011010 01110000
                            01011001 01010111 00110101 00110000 01011010 01010011 01000010 01110101 01011010 01011000 01001110 01111010 01011010 01011000 01001101 01100111 01011010
                            01000111 00111001 01110000 01100011 01111001 00110100 01100111 01010001 01010111 01111010 01000100 01110001 01010111 00110000 01100111 01011010 01000111
                            01101100 01111010 01100011 00110010 00111000 01110011 01001001 01001000 01010010 01101100 01100010 01010011 01000010 01101000 01100010 01000111 01100100
                            00110001 01100010 01010111 01000110 01111010 01001001 01000111 01001110 01110110 01100001 01011000 01001110 01101000 01100011 01111001 01000010 01111000
                            01100100 01010111 01010101 01100111 01011010 01011000 01010101 01100111 01011010 00110010 00111001 01111010 01100100 01000111 01000110 01111001 01100001
                            01010111 01000101 01100111 01011010 01000111 01010101 01100111 01100010 01010111 01010110 01110011 01100001 01000111 00111001 01111001 01011001 01011000
                            01001001 01100111 01100010 01010111 01000110 01111010 01001001 01000111 00110111 01000100 01101111 00110010 00111000 01100111 01100100 01000111 01101100
                            01110101 01100001 01000111 01000101 01100111 01011001 00110010 01010110 01111001 01100100 01000111 01010110 00110110 01011001 01010011 01000010 01111010
                            01011010 01010011 01000010 01101011 01011010 01011000 01011010 01101100 01100011 01101101 01101100 01101000 01001001 01000011 01101000 01110111 01100010
                            00110011 01001001 01100111 01011010 01011000 01101000 01101100 01100010 01011000 01000010 01110011 01100010 01111001 01110111 01100111 01011001 01010111
                            01010010 01110000 01011001 00110010 01101100 01110110 01100010 01101101 01000110 01111001 01001001 01001000 01010110 01110100 01011001 01010011 01000010
                            01101010 01100010 00110010 01111000 00110001 01100010 01101101 01000101 01100111 01100010 01101101 01000110 01111010 01001001 01000111 01001110 01110110
                            01100100 01000111 01001000 01000100 01110000 00111000 01001111 00110001 01011010 01011000 01001101 01100111 01011001 00110010 00111001 01110100 01001001
                            01001000 01010110 01110100 01001001 01000111 01101100 01101011 01011010 01010111 00110101 00110000 01100001 01010111 01011010 01110000 01011001 00110010
                            01000110 01101011 01100010 00110011 01001001 01100111 01110111 00110111 01110000 01110101 01100001 01010111 01001110 01110110 01001011 01010011 00110100
                            01001011 01010010 01010111 00110101 01101101 01100001 01010111 00110000 01110011 01001001 01000111 01011010 01110000 01100101 01101001 01000010 01110110
                            01001001 01000111 00110001 01101100 01100100 01010011 01000010 01110100 01011010 01010111 01111000 01101111 01100010 00110011 01001001 01100111 01001111
                            01101001 01101011 00111101
                        </p>
                      </div>
                    </div>
                  </div>
                </div>`;

    const modalDiv = document.createElement("div");
    modalDiv.innerHTML = modalHTML;
    document.body.appendChild(modalDiv);
}

$(window).on('load', function () {
    const konamiCode = [
        "ArrowUp", "ArrowUp",
        "ArrowDown", "ArrowDown",
        "ArrowLeft", "ArrowRight",
        "ArrowLeft", "ArrowRight",
        "b", "a"
    ];

    let inputSequence = [];

    window.addEventListener("keydown", function (event) {
        inputSequence.push(event.key);

        if (inputSequence.length > konamiCode.length)
            inputSequence.shift();

        if (inputSequence.join("") === konamiCode.join("")) {
            if (!document.getElementById("modalSecreta"))
                criarModal();

            const modal = new bootstrap.Modal(document.getElementById('modalSecreta'));
            modal.show();
            inputSequence = [];
        }
    });
});